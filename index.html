<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNICODA</title>
    
    <!-- Noto Ecosystem Import -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Mono:wght@300;400;700&family=Noto+Sans+Symbols:wght@400;700&family=Noto+Sans+Symbols+2&display=swap" rel="stylesheet">

    <!-- Unicoda Favicon (Dynamic) -->
    <link id="app-favicon" rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cstyle%3E text %7B font-family: monospace; font-weight: bold; font-size: 42px; fill: %23d4d4d4; %7D %3C/style%3E%3Crect width='64' height='64' rx='8' fill='%231a1a1a'/%3E%3Ctext x='32' y='32' dominant-baseline='central' text-anchor='middle'%3E❖%3C/text%3E%3C/svg%3E">

    <link rel="stylesheet" href="css/style.css">
</head>    
<body>
    <!-- BLOCKING SETUP SCRIPT: PREVENTS FLASHES -->
    <script>
        (function() {
            // 1. Instant Theme
            const base = localStorage.getItem('unicoda_base_theme') || 'default';
            const mode = localStorage.getItem('unicoda_theme_mode') || 'dark';
            let attr = null;
            if (base === 'default') {
                if (mode === 'light') attr = 'light';
            } else {
                if (mode === 'light') attr = `${base}-light`;
                else attr = base;
            }
            if (attr) document.documentElement.setAttribute('data-theme', attr);

            // 2. Instant Backdrop Opacity
            // Must match the logic in main.js
            const levels = [0.4, 0.2, 0.1, 0.05, 0];
            const bgIndex = parseInt(localStorage.getItem('unicoda_bg_index') || '2');
            const opacity = levels[bgIndex] !== undefined ? levels[bgIndex] : 0.1;
            
            // Write style directly to element to bypass CSS transition on load
            const bgEl = document.getElementById('ascii-backdrop');
            if (bgEl) bgEl.style.opacity = opacity;
        })();
    </script>
        <!-- Icon Definitions for Annotations (Hidden) -->
    <svg id="sa-icon-definitions" style="display: none;">
        <symbol id="sa-icon-close" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></symbol>
        <symbol id="sa-icon-minimize" viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"></line></symbol>
        <symbol id="sa-icon-maximize" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect></symbol>
        <symbol id="sa-icon-copy" viewBox="0 0 24 24"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></symbol>
    </svg>

    <!-- ASCII Background Layer -->
    <pre id="ascii-backdrop"></pre>

    <!-- Post-it Notes Layer -->
    <div id="notes-layer"></div>

    <!-- Custom Tooltip -->
    <div id="global-tooltip" class="hidden"></div>

    <!-- Main Application Layer -->
    <main id="app">
        
        <!-- GLOBAL UI: Top Left (Filters) -->
        <div class="ui-corner top-left">
            <div class="filters">
                <!-- Core Types -->
                <button class="filter-btn active" data-type="barcode" data-tooltip="Barcodes">≣</button>
                <button class="filter-btn active" data-type="current" data-tooltip="Currents">ጸ</button>
                <button class="filter-btn active" data-type="geode" data-tooltip="Geodes">❖</button>
                <span class="separator">|</span>
                <!-- Special Modes -->
                <button class="filter-btn active" data-type="journey" data-tooltip="Journeys">⛓</button>
                <span class="separator">|</span>
                <!-- AI Filter -->
                <button class="filter-btn active" data-type="ai" data-tooltip="AI Generated">⎔</button>
            </div>
        </div>

    <!-- GLOBAL UI: Top Right (Menus & Note) -->
        <div class="ui-corner top-right" style="display: flex; gap: 1rem; align-items: center;">
             <button id="btn-add-note" class="icon-btn" data-tooltip="Add Note">+</button>
             <span class="separator">|</span>
             <button id="btn-lists" class="icon-btn" data-tooltip="Lists">☰</button>
             <button id="btn-settings" class="icon-btn" data-tooltip="Settings">⚙</button>
             <span class="separator">|</span>
             <button id="nav-home" class="icon-btn" data-tooltip="Title<br>Screen">⌂</button>
            </div>

        <!-- PERMANENT CLOCK DISPLAY -->
        <div id="clock-display" class="hidden"></div>

        <!-- Title Screen (Default: Hidden to prevent flash if Skip Title is ON) -->
        <section id="title-screen" class="hidden">
            <h1 id="main-title" class="project-title">
                <span>U</span><span>N</span><span>I</span><span>C</span><span>O</span><span>D</span><span>A</span>
            </h1>
            <div class="subtitle">
                Made by <a href="https://bsky.app/profile/royalnaym.bsky.social" target="_blank" class="stealth-link">Naym</a>
            </div>
            <div class="menu-options">
                <button id="btn-start" class="text-btn">START</button>
                <button id="btn-about" class="text-btn">ABOUT</button>
            </div>
        </section>

<!-- About Overlay -->
        <div id="about-overlay" class="overlay hidden">
            <div class="overlay-content about-split-layout">
                
                <!-- Left: Visuals -->
                <div class="about-left">
                    <div id="about-symbol-display">❖</div>
                    <div class="about-brand">UNICODA</div>
                </div>

                <!-- Right: Content -->
                <div class="about-right">
                    <h2 class="about-header">MADE BY NAYM</h2>
                    
                    <a href="https://bsky.app/profile/royalnaym.bsky.social" target="_blank" class="about-avatar-link">
                        <img src="https://github.com/RoyalNaym.png" alt="Naym" class="about-avatar">
                    </a>

                    <div class="about-text">
                        <p>Digital artist, designer and professional silly guy.</p>
                        <p>On occasion, I also compose chiptunes and write short stories. With the making of this site, I very much became a vibecoder as well. <em>Oops</em>.</p>
                    </div>

                    <div class="social-row">
                        <!-- Bluesky -->
                        <a href="https://bsky.app/profile/royalnaym.bsky.social" target="_blank" class="social-icon" aria-label="Bluesky">
                            <svg viewBox="0 0 24 24"><path d="M12 10.8c-1.6-4.2-7.3-6.6-9.8-6.6 0 0-1.6 0-1.2 3.8.4 4.4 5.2 6.6 6.6 7-3.8 0-8.2 1.4-8.2 5.4 0 2.6 2.2 3.8 5 3.8 2.8 0 5-2.2 6.6-6 0 0 .6 4.8 7.6 4.8 5.4 0 5-3.8 5-3.8 0-4-4.4-5.4-8.2-5.4 1.4-.4 6.2-2.6 6.6-7 .4-3.8-1.2-3.8-1.2-3.8-2.6 0-8.2 2.4-9.8 6.6z" fill="currentColor"/></svg>
                        </a>
                        <!-- X / Twitter -->
                        <a href="https://x.com/RoyalNaym" target="_blank" class="social-icon" aria-label="X">
                            <svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" fill="currentColor"/></svg>
                        </a>
                        <!-- GitHub -->
                        <a href="https://github.com/" target="_blank" class="social-icon" aria-label="GitHub">
                            <svg viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" fill="currentColor"/></svg>
                        </a>
                        <!-- Instagram -->
                        <a href="https://www.instagram.com/royalnaym/" target="_blank" class="social-icon" aria-label="Instagram">
                            <svg viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" fill="currentColor"/></svg>
                        </a>
                        <!-- Linktree -->
                        <a href="https://linktr.ee/RoyalNaym" target="_blank" class="social-icon" aria-label="Linktree">
                            <svg viewBox="0 0 24 24"><path d="M13.736 5.853L13.264 0h-2.528l-.472 5.853-4.84-4.49-1.664 1.908 5.696 5.284h-6.26v2.536h6.39l-5.831 5.467 1.674 1.902 5.309-4.978v10.518h2.524V13.482l5.309 4.978 1.674-1.902-5.831-5.467h6.39V8.555h-6.26l5.696-5.284-1.664-1.908-4.84 4.49z" fill="currentColor"/></svg>
                        </a>
                    </div>

                    <div class="credit-text">
                        <p>ASCII patterns inspired by <a href="https://www.thewayofcode.com/" target="_blank">The Way of Code</a>.</p>
                        <p>Vibecoded with Gemini 3 Pro and Claude Sonnet 4.5.</p>
                    </div>
                    
                    <button id="btn-close-about" class="text-btn">CLOSE</button>
                </div>
            </div>
        </div>

        <!-- Introduction Sequence -->
        <section id="intro-sequence" class="hidden">
            <div id="intro-content">
                <!-- Content injected by JS -->
            </div>
            <div class="intro-controls">
                <button id="btn-skip-intro" class="text-btn">SKIP</button>
                <button id="btn-next-intro" class="text-btn">NEXT</button>
            </div>
        </section>

        <!-- Loading Screen -->
        <section id="loading-screen" class="hidden">
            <pre id="loader-display"></pre>
        </section>

        <!-- Main Reading Area -->
        <section id="reader" class="hidden">
            <!-- Composition Display -->
            <div id="composition-wrapper">
            <div id="composition-anchor">
                    <pre id="composition-display"></pre>
                    <div id="title-container">
                        <div id="composition-title"></div>
                    </div>
                </div>
            </div>
        </section>

    <!-- GLOBAL UI: Unified Bottom Footer -->
        <footer id="reader-footer">
    <!-- Left Tools -->
            <div class="footer-left">
                <!-- Home button removed from here -->
                <button id="toggle-theme" class="icon-btn" data-tooltip="Theme">◑</button>
                <button id="btn-backdrop" class="icon-btn" data-tooltip="Backdrop Density">▓</button>
                <span class="separator">|</span>
                <button id="nav-fav" class="icon-btn" data-tooltip="Favorite">☆</button>
            </div>

            <!-- Center Navigation (Hidden on Title Screen via CSS) -->
            <div class="footer-center">
                <!-- AI Indicator (Symmetric to Skip) -->
                <div id="ai-indicator" class="status-indicator icon-btn" data-tooltip="AI Generated">⎔</div>
                
                <button id="nav-back" class="nav-btn icon-btn" data-tooltip="Back">←</button>
                <!-- Random Button -->
                <button id="nav-random" class="nav-btn icon-btn" data-tooltip="Random">⚄</button>
                <button id="nav-forward" class="nav-btn icon-btn" data-tooltip="Next">→</button>
                
                <button id="nav-skip" class="nav-btn icon-btn" data-tooltip="Skip Journey">↠</button>
            </div>

            <!-- Right Side (Version Info) -->
            <div class="footer-right">
                <a href="https://github.com/RoyalNaym/unicoda" target="_blank" class="version-info">v.1.7</a>
            </div>
        </footer>

        <!-- Settings Menu -->
        <div id="settings-menu" class="overlay hidden">
            <div class="overlay-content settings-list">
                
                <div class="setting-row">
                    <span>TEXT SIZE</span>
                    <!-- 8 Steps (1 to 8) -->
                    <input type="range" id="slider-text-size" min="1" max="8" step="1" value="4">
                </div>

                <div class="setting-row note-size-row">
                    <span>NOTE SIZE</span>
                    <!-- 1=Small, 2=Medium, 3=Big -->
                    <input type="range" id="slider-note-size" min="1" max="3" step="1" value="2">
                </div>

                <div class="setting-row">
                    <span>TITLES</span>
                    <button id="toggle-titles" class="text-btn">ON</button>
                </div>

                <div class="setting-row">
                    <span>EXPLICIT</span>
                    <button id="toggle-explicit" class="text-btn">OFF</button>
                </div>

                <div class="setting-row">
                    <span>NEW TAB MODE</span>
                    <button id="toggle-new-tab" class="text-btn">OFF</button>
                </div>

                <div id="row-show-seconds" class="setting-row">
                    <span>SHOW SECONDS</span>
                    <button id="toggle-show-seconds" class="text-btn">ON</button>
                </div>

                <div class="setting-row">
                    <span>INTRO</span>
                    <button id="btn-reset-intro" class="text-btn">RESET</button>
                </div>
                <div class="setting-row">
                     <span>DATA</span>
                    <button id="btn-clear-data" class="text-btn danger">CLEAR ALL</button>
                </div>
                <button id="btn-close-settings" class="text-btn" style="margin-top: 2rem;">CLOSE</button>
            </div>
        </div>
        
        <!-- List Overlay -->
        <div id="list-menu" class="overlay hidden">
             <div class="overlay-content" style="width: 500px;">
                <div class="list-tabs">
                    <button id="tab-visited" class="text-btn active">VISITED</button>
                    <button id="tab-favorites" class="text-btn">FAVORITES</button>
                </div>
                <div id="list-container" class="scroll-list"></div>
                <button id="btn-close-lists" class="text-btn" style="margin-top: 2rem;">CLOSE</button>
             </div>
        </div>

    </main>

    <!-- Scripts -->
    <script src="js/backdrop.js"></script>
    <script src="js/data.js"></script>
    <script src="js/annotations.js"></script>
    <script src="js/main.js"></script>
</body>
</html> 